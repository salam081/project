{% extends 'base/base.html' %}
{% block content %}
<div class="container mt-4 ">
    <div class="row justify-content-center">
        <div class="col-lg-10">
            <div class="card shadow-lg border-0">
                <div class="card-header bg-primary text-white py-4">
                    <div class="row align-items-center">
                        <div class="col">
                            <h3 class="mb-0">
                                <i class="fas fa-user-edit me-3"></i>Complete Your Profile
                            </h3>
                            <p class="mb-0 opacity-75">Please fill in your personal information</p>
                        </div>
                    </div>
                </div>

                <div class="card-body p-5">
                    <form method="POST" enctype="multipart/form-data">
                        {% csrf_token %}

                        <!-- Personal Information Section -->
                        <div class="row mb-4">
                            <div class="col-12">
                                <h5 class="text-primary border-bottom pb-2 mb-4">
                                    <i class="fas fa-user me-2"></i>Personal Information
                                </h5>
                            </div>
                        </div>

                        <div class="row g-4">
                            <!-- Left Column -->
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label class="form-label fw-semibold">
                                        <i class="fas fa-user me-1 text-muted"></i>First Name <span
                                            class="text-danger">*</span>
                                    </label>
                                    <input name="first_name" value="{{ user.first_name }}"
                                        class="form-control form-control-lg" placeholder="Enter your first name"
                                        required>
                                </div>

                                <div class="mb-3">
                                    <label class="form-label fw-semibold">
                                        <i class="fas fa-user me-1 text-muted"></i>Last Name <span
                                            class="text-danger">*</span>
                                    </label>
                                    <input name="last_name" value="{{ user.last_name }}"
                                        class="form-control form-control-lg" placeholder="Enter your last name"
                                        required>
                                </div>

                                <div class="mb-3">
                                    <label class="form-label fw-semibold">
                                        <i class="fas fa-user me-1 text-muted"></i>Other Name
                                    </label>
                                    <input name="other_name" value="{{ user.other_name }}"
                                        class="form-control form-control-lg"
                                        placeholder="Enter your other name (optional)">
                                </div>

                                <div class="mb-3">
                                    <label class="form-label fw-semibold">
                                        <i class="fas fa-calendar me-1 text-muted"></i>Date of Birth
                                    </label>
                                    <input type="date" name="date_of_birth"
                                        value="{{ user.date_of_birth|date:'Y-m-d' }}"
                                        class="form-control form-control-lg">
                                </div>

                                <div class="mb-3">
                                    <label class="form-label fw-semibold">
                                        <i class="fas fa-building me-1 text-muted"></i>Department <span
                                            class="text-danger">*</span>
                                    </label>
                                    <input name="department" value="{{ user.department }}"
                                        class="form-control form-control-lg" placeholder="Enter your department"
                                        required>
                                </div>

                                <div class="mb-3">
                                    <label class="form-label fw-semibold">
                                        <i class="fas fa-layer-group me-1 text-muted"></i>Unit
                                    </label>
                                    <input name="unit" value="{{ user.unit }}" class="form-control form-control-lg"
                                        placeholder="Enter your unit">
                                </div>

                                <div class="mb-3">
                                    <label class="form-label fw-semibold">
                                        <i class="fas fa-id-card me-1 text-muted"></i>Member Number
                                    </label>
                                    <input name="member_number" value="{{ user.member_number }}"
                                        class="form-control form-control-lg" placeholder="Enter your member number">
                                </div>
                            </div>

                            <!-- Right Column -->
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label class="form-label fw-semibold">
                                        <i class="fas fa-venus-mars me-1 text-muted"></i>Gender
                                    </label>
                                    <select name="gender" class="form-select form-select-lg">
                                        <option value="">-- Select Gender --</option>
                                        {% for gender in genders %}
                                        <option value="{{ gender.id }}" {% if user.gender_id == gender.id %}selected{% endif %}>
                                            {{ gender.title }}
                                        </option>
                                        {% endfor %}
                                    </select>
                                </div>

                                <!-- <div class="mb-3">
                                    <label class="form-label fw-semibold">
                                        <i class="fas fa-users me-1 text-muted"></i>User Group
                                    </label>
                                    <select name="group" class="form-select form-select-lg">
                                        <option value="">-- Select Group --</option>
                                        {% for group in groups %}
                                        <option value="{{ group.id }}" {% if user.group_id == group.id %}selected{% endif %}>
                                            {{ group.title }}
                                        </option>
                                        {% endfor %}
                                    </select>
                                </div> -->

                                <div class="mb-3">
                                    <label class="form-label fw-semibold">
                                        <i class="fas fa-heart me-1 text-muted"></i>Marital Status
                                    </label>
                                    <select name="marital_status" class="form-select form-select-lg">
                                        <option value="">-- Select Status --</option>
                                        {% for status in marital_statuses %}
                                        <option value="{{ status.id }}" {% if user.marital_status_id == status.id%}selected{% endif %}>
                                            {{ status.title }}
                                        </option>
                                        {% endfor %}
                                    </select>
                                </div>

                                <div class="mb-3">
                                    <label class="form-label fw-semibold">
                                        <i class="fas fa-praying-hands me-1 text-muted"></i>Religion
                                    </label>
                                    <select name="religion" class="form-select form-select-lg">
                                        <option value="">-- Select Religion --</option>
                                        {% for religion in religions %}
                                        <option value="{{ religion.id }}" {% if user.religion_id == religion.id %}selected{% endif %}>
                                            {{ religion.title }}
                                        </option>
                                        {% endfor %}
                                    </select>
                                </div>

                                <div class="mb-3">
                                    <label class="form-label fw-semibold">
                                        <i class="fas fa-phone me-1 text-muted"></i>Primary Phone
                                    </label>
                                    <input name="phone1" value="{{ user.phone1 }}" class="form-control form-control-lg"
                                        placeholder="Enter your primary phone number">
                                </div>

                                <div class="mb-3">
                                    <label class="form-label fw-semibold">
                                        <i class="fas fa-phone me-1 text-muted"></i>Secondary Phone
                                    </label>
                                    <input name="phone2" value="{{ user.phone2 }}" class="form-control form-control-lg"
                                        placeholder="Enter your secondary phone number">
                                </div>

                                <div class="mb-3">
                                    <label class="form-label fw-semibold">
                                        <i class="fas fa-envelope me-1 text-muted"></i>Email Address
                                    </label>
                                    <input type="email" name="email" value="{{ user.email }}"
                                        class="form-control form-control-lg" placeholder="Enter your email address">
                                </div>
                                 <div class="col-md-6">
                                    <label class="form-label fw-semibold">
                                        <i class="fas fa-camera me-1 text-muted"></i>Profile Photo
                                    </label>
                                    <div class="input-group col-md-6">
                                        <input type="file" name="passport" class="form-control form-control-lg" accept="image/*" id="passport">
                                        <label class="input-group-text" for="passport">
                                            <i class="fas fa-upload"></i>
                                        </label>
                                    </div>
                                    <!-- <div class="form-text">
                                        <i class="fas fa-info-circle me-1"></i>
                                        Accepted formats: JPG, PNG, GIF (Max: 2MB)
                                    </div> -->
                                </div>
                            </div>
                            </div>
                        

                        <!-- Address Information Section -->
                        <div class="row mt-5">
                            <div class="col-12">
                                <h5 class="text-primary border-bottom pb-2 mb-4">
                                    <i class="fas fa-map-marker-alt me-2"></i>Address Information
                                </h5>
                            </div>
                        </div>

                        <div class="row g-4">
                            <div class="col-md-6">
                               
                                <div class="mb-3">
                                    <label class="form-label fw-semibold"><i
                                            class="fas fa-flag me-1 text-muted"></i>Country</label>
                                    <input type="text" name="country" value="{{ address.country }}"
                                        class="form-control form-control-lg" placeholder="Enter country">
                                </div>
                                <div class="mb-3">
                                    <label class="form-label fw-semibold"><i
                                            class="fas fa-map me-1 text-muted"></i>State of Origin</label>
                                    <select name="state_of_origin" class="form-select form-select-lg">
                                        <option value="">-- Select State --</option>
                                        {% for state in states %}
                                        <option value="{{ state.id }}" {% if address.state_of_origin_id == state.id %}selected{% endif %}>{{ state.title }}</option>
                                        {% endfor %}
                                    </select>
                                </div>
                            </div>

                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label class="form-label fw-semibold"><i
                                            class="fas fa-map-pin me-1 text-muted"></i>LGA</label>
                                    <input type="text" name="local_government_area"
                                        value="{{ address.local_government_area }}" class="form-control form-control-lg"
                                        placeholder="Enter LGA">
                                </div>
                                <div class="mb-3">
                                    <label class="form-label fw-semibold"><i
                                            class="fas fa-map-marked-alt me-1 text-muted"></i>Full Address</label>
                                    <textarea name="address" rows="4" class="form-control form-control-lg"
                                        placeholder="Enter full address">{{ address.address }}</textarea>
                                </div>
                                
                            </div>
                        </div>

                        <!-- Next of Kin Section -->
                        <div class="row mt-5">
                            <div class="col-12">
                                <h5 class="text-primary border-bottom pb-2 mb-4">
                                    <i class="fas fa-user-friends me-2"></i>Next of Kin Information
                                </h5>
                            </div>
                        </div>

                        <div class="row g-4">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label class="form-label fw-semibold"><i
                                            class="fas fa-user me-1 text-muted"></i>Full Name</label>
                                    <input type="text" name="kin_full_names" value="{{ kin.full_names }}"
                                        class="form-control form-control-lg"
                                        placeholder="Enter full name of next of kin">
                                </div>
                                <div class="mb-3">
                                    <label class="form-label fw-semibold"><i
                                            class="fas fa-envelope me-1 text-muted"></i>Email</label>
                                    <input type="email" name="kin_email" value="{{ kin.email }}"
                                        class="form-control form-control-lg" placeholder="Enter email of next of kin">
                                </div>
                                <div class="mb-3">
                                     <label class="form-label fw-semibold"><i
                                            class="fas fa-file me-1 text-muted"></i>Profile Photo</label>
                                    <input type="file" name="netofkin_passport" class="form-control form-control-lg" accept="image/*" id="netofkin_passport">
                                       
                                </div>
                            </div>

                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label class="form-label fw-semibold"><i
                                            class="fas fa-phone me-1 text-muted"></i>Phone Number</label>
                                    <input type="text" name="kin_phone_no" value="{{ kin.phone_no }}"
                                        class="form-control form-control-lg"
                                        placeholder="Enter phone number of next of kin">
                                </div>
                                <div class="mb-3">
                                    <label class="form-label fw-semibold"><i
                                            class="fas fa-map-marker-alt me-1 text-muted"></i>Address</label>
                                    <textarea name="kin_address" rows="3" class="form-control form-control-lg"
                                        placeholder="Enter address of next of kin">{{ kin.address }}</textarea>
                                </div>
                            </div>
                            
                        </div>
                        <button type="submit" class="btn btn-primary btn-lg px-5">
                                <i class="fas fa-save me-2"></i>Save Profile
                            </button>
                            
                    </form>
                    </div>
                </div>
            </div>
        </div>
    </div>


<!-- Custom CSS for additional styling -->
<style>
    .card {
        border-radius: 15px;
        transition: all 0.3s ease;
    }

    .card:hover {
        transform: translateY(-5px);
        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1) !important;
    }

    .form-control,
    .form-select {
        border: 2px solid #e9ecef;
        border-radius: 10px;
        transition: all 0.3s ease;
    }

    .form-control:focus,
    .form-select:focus {
        border-color: #0d6efd;
        box-shadow: 0 0 0 0.25rem rgba(13, 110, 253, 0.15);
        transform: translateY(-2px);
    }

    .form-label {
        color: #495057;
        margin-bottom: 8px;
    }

    .btn {
        border-radius: 10px;
        font-weight: 600;
        transition: all 0.3s ease;
    }

    .btn:hover {
        transform: translateY(-2px);
    }

    .text-primary {
        color: #0d6efd !important;
    }

    .border-bottom {
        border-color: #dee2e6 !important;
    }
</style>
{% endblock %}